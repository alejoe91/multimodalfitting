from ..ecode import HyperDepol, sAHP, PosCheops


def get_firepattern_targets(timings=None, stimulus=None):
    # firepattern targets
    # 'mean_frequency', 'burst_number', 'adaptation_index2', 'ISI_CV', 'ISI_log_slope', 'inv_time_to_first_spike',
    # 'inv_first_ISI', 'inv_second_ISI', 'inv_third_ISI', 'inv_fourth_ISI', 'inv_fifth_ISI', 'AP_amplitude',
    # 'AHP_depth', 'AHP_time_from_peak'
    # @ [120, 200]
    targets = [
        {'efeature': 'mean_frequency',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'firepattern',
         'amplitude': 120,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
    ]
    return targets


def get_idrest_targets(timings=None, stimulus=None):
    # IDrest targets
    # 'mean_frequency', 'burst_number', 'adaptation_index2', 'ISI_CV', 'ISI_log_slope', 'inv_time_to_first_spike',
    # 'inv_first_ISI', 'inv_second_ISI', 'inv_third_ISI', 'inv_fourth_ISI', 'inv_fifth_ISI', 'AP_amplitude',
    # 'AHP_depth', 'AHP_time_from_peak'
    # @ [50, 75, 100, 125, 150, 175, 200, 225, 250, 275, 300]
    targets = [
        {'efeature': 'AHP_depth',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'firepattern',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 50,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 75,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 100,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 125,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 150,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 175,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 225,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 250,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 275,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'mean_frequency',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'adaptation_index2',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_CV',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ISI_log_slope',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_time_to_first_spike',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_first_ISI',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_second_ISI',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_third_ISI',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fourth_ISI',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'inv_fifth_ISI',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'IDrest',
         'amplitude': 300,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
    ]
    return targets


def get_iv_targets(timings=None, stimulus=None):
    # IV targets
    # 'Spikecount', 'voltage_base', 'voltage_deflection', 'voltage_deflection_begin', 'steady_state_voltage_stimend',
    # 'ohmic_input_resistance_vb_ssse', 'sag_amplitude', 'sag_ratio1', 'sag_ratio2', 'decay_time_constant_after_stim'
    # @ [-140, -120, -100, -80, -60, -40, -20, 0, 20, 40, 60]
    targets = [
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -140,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -100,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': -20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': 0,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': 20,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': 40,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_base',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'voltage_deflection_begin',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'ohmic_input_resistance_vb_ssse',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'decay_time_constant_after_stim',
         'protocol': 'IV',
         'amplitude': 60,
         'tolerance': 10,
         'efel_settings': {},
         'location': 'soma'},
    ]
    return targets


def get_apwaveform_targets(timings=None, stimulus=None):
    # APWaveform targets
    # 'AP_amplitude', 'AP1_amp', 'AP2_amp', 'AP_duration_half_width', 'AP_begin_width', 'AP_begin_voltage',
    # 'AHP_depth', 'AHP_time_from_peak'
    # @ [200, 230, 260, 290, 320, 350]
    targets = [
        {'efeature': 'AP_amplitude',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP1_amp',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP2_amp',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_duration_half_width',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_width',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_voltage',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'APWaveform',
         'amplitude': 200,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP1_amp',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP2_amp',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_duration_half_width',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_width',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_voltage',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'APWaveform',
         'amplitude': 230,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP1_amp',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP2_amp',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_duration_half_width',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_width',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_voltage',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'APWaveform',
         'amplitude': 260,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP1_amp',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP2_amp',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_duration_half_width',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_width',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_voltage',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'APWaveform',
         'amplitude': 290,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP1_amp',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP2_amp',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_duration_half_width',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_width',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_voltage',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'APWaveform',
         'amplitude': 320,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP1_amp',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP2_amp',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_duration_half_width',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_width',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AP_begin_voltage',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'APWaveform',
         'amplitude': 350,
         'tolerance': 20,
         'efel_settings': {},
         'location': 'soma'},
    ]
    return targets


def get_hyperdepol_targets(timings=None, stimulus=None):
    if timings is not None:
        ton = timings["HyperDepol"]["ton"]
        tmid = timings["HyperDepol"]["tmid"]
        toff = timings["HyperDepol"]["toff"]
    else:
        assert stimulus is not None
        assert isinstance(stimulus, HyperDepol)
        ton = stimulus.delay
        tmid = stimulus.tmid
        toff = stimulus.toff

    # HyperDepol targets
    # depol: 'Spikecount', 'burst_number', 'AP_amplitude', 'ISI_values',
    # hyper: 'sag_amplitude', 'sag_ratio1', 'sag_ratio2'
    # hyper @ [-160, -120, -80, -40]
    targets = [
        {'efeature': 'Spikecount',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'HyperDepol',
         'amplitude': -160,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'HyperDepol',
         'amplitude': -120,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'HyperDepol',
         'amplitude': -80,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'burst_number',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': toff},
         'location': 'soma'},
        {'efeature': 'sag_amplitude',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio1',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'},
        {'efeature': 'sag_ratio2',
         'protocol': 'HyperDepol',
         'amplitude': -40,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': tmid},
         'location': 'soma'}
    ]
    return targets


def get_sahp_targets(timings=None, stimulus=None):
    if timings is not None:
        tmid = timings["sAHP"]["tmid"]
        tmid2 = timings["sAHP"]["tmid2"]
    else:
        assert stimulus is not None
        assert isinstance(stimulus, sAHP)
        tmid = stimulus.tmid
        tmid2 = stimulus.tmid2

    # sAHP targets
    # 'Spikecount', 'AP_amplitude', 'ISI_values', 'AHP_depth', 'AHP_depth_abs', 'AHP_time_from_peak',
    # 'steady_state_voltage_stimend'
    # middle amp @ [150, 200, 250, 300]
    targets = [
        {'efeature': 'Spikecount',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth_abs',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'sAHP',
         'amplitude': 150,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth_abs',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'sAHP',
         'amplitude': 200,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth_abs',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'sAHP',
         'amplitude': 250,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'Spikecount',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AP_amplitude',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'ISI_values',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_depth_abs',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'AHP_time_from_peak',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
        {'efeature': 'steady_state_voltage_stimend',
         'protocol': 'sAHP',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': tmid, 'stim_end': tmid2},
         'location': 'soma'},
    ]
    return targets


def get_poscheops_targets(timings=None, stimulus=None):
    if timings is not None:
        ton = timings["PosCheops"]["ton"]
        t1 = timings["PosCheops"]["t1"]
        t2 = timings["PosCheops"]["t2"]
        t3 = timings["PosCheops"]["t3"]
        t4 = timings["PosCheops"]["t4"]
        toff = timings["PosCheops"]["toff"]
    else:
        assert stimulus is not None
        assert isinstance(stimulus, PosCheops)
        ton = stimulus.delay
        t1 = stimulus.t1
        t2 = stimulus.t2
        t3 = stimulus.t3
        t4 = stimulus.t4
        toff = stimulus.toff

    # Poscheops targets
    # phase 1: 'Spikecount'
    # phase 2: 'Spikecount'
    # phase 3: 'Spikecount'
    # @ [300]
    targets = [
        {'efeature_name': 'Spikecount1',
         'efeature': 'Spikecount',
         'protocol': 'PosCheops',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': ton, 'stim_end': t1},
         'location': 'soma'},
        {'efeature_name': 'Spikecount2',
         'efeature': 'Spikecount',
         'protocol': 'PosCheops',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': t2, 'stim_end': t3},
         'location': 'soma'},
        {'efeature_name': 'Spikecount3',
         'efeature': 'Spikecount',
         'protocol': 'PosCheops',
         'amplitude': 300,
         'tolerance': 10,
         'efel_settings': {'stim_start': t4, 'stim_end': toff},
         'location': 'soma'}
    ]
    return targets
